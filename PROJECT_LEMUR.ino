/*DUKE BIOSCIENCE AND ENGINEERING CAPSTON PROJECT(7-9-18)CODE BY KAI LOCKWOOD*/#include <Wire.h>#include <MPU6050.h>#include <Servo.h>   Servo sg90; Servo sg91;Servo sg92;Servo sg93;Servo sg94;Servo sg95;Servo sg96;Servo sg97;Servo sg98;Servo sg99;Servo sg910;Servo sg911;int servo_pin = 1;int servo_pin2 = 6;int servo_pin3 = 2;int servo_pin4 = 3;int servo_pin5 = 13;int servo_pin6 = 10;int servo_pin7 = 11;int servo_pin8 = 9;int servo_pin9 = 8;int servo_pin10 = 7;int servo_pin11 = 5;int servo_pin12 = 12;MPU6050 sensor ;int16_t ax, ay, az ;int16_t gx, gy, gz ;void setup ( ){ sg90.attach ( servo_pin );sg91.attach ( servo_pin2 );sg92.attach ( servo_pin3 );sg93.attach ( servo_pin4 );sg94.attach ( servo_pin5 );sg95.attach ( servo_pin6 );sg96.attach ( servo_pin7 );sg97.attach ( servo_pin8 );sg98.attach ( servo_pin9 );sg99.attach ( servo_pin10 );sg910.attach ( servo_pin11 );sg911.attach ( servo_pin12 );Wire.begin ( );Serial.begin  (9600); Serial.println  ( "Initializing the sensor" ); sensor.initialize ( ); Serial.println (sensor.testConnection ( ) ? "Successfully Connected" : "Connection failed"); delay (1000); Serial.println ( "Taking Values from the sensor" );delay (1000);sg90.write(110);sg91.write(90);sg92.write(67.5);sg93.write(75);sg94.write(90);sg95.write(98);sg96.write(135);sg97.write(145);sg98.write(170);sg99.write(180);sg910.write(135);sg911.write(0);}void loop ( ) { sensor.getMotion6 (&ax, &ay, &az, &gx, &gy, &gz);ax = map (ax, -17000, 17000, 0, 180) ;Serial.println (ax);//sg90.write (110+(180-ax)); int val = (110+(180-ax));val = map(val, 0, 180, 0, 15);sg90.write(val);int val2 = (90+(180-ax));val2 = map(val2, 0, 180, 0, 30);sg91.write(val2);int val3 = (67.5+(180-ax));val3 = map(val3, 0, 180, 0, 45);sg92.write(val3);int val4 = (75+(180-ax));val4 = map(val4, 0, 180, 0, 60);sg93.write(val4);int val5 = (90+(180-ax));val5 = map(val5, 0, 180, 0, 75);sg94.write(val5);int val6 = (98+(180-ax));val6 = map(val6, 0, 180, 0, 90);sg95.write(val6);int val7 = (135+(180-ax));val7 = map(val7, 0, 180, 0, 105);sg96.write(val7);int val8 = (145+(180-ax));val8 = map(val8, 0, 180, 0, 120);sg97.write(val8);int val9 = (170+(180-ax));val9 = map(val9, 0, 180, 0, 135);sg98.write(val9);int val10 = (ax);val10 = map(val10, 0, 180, 0, 150);sg99.write(val10);int val10 = (135+(180-ax));val10 = map(val10, 0, 180, 0, 1165);sg910.write(val10);sg911.write (180-ax);delay (1000);}